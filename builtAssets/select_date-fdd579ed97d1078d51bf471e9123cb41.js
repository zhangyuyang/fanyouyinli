(function(e){e.extend({ms_DatePicker:function(a){var t,n,l,o,c,i,s,r,p,h,u,v,f;o=function(){var e,a,o,c,i;if(l.val()===0||n.val()===0){t.html(u)}else{t.html(u);i=parseInt(l.val());c=parseInt(n.val());e=0;switch(c){case 1:case 3:case 5:case 7:case 8:case 10:case 12:e=31;break;case 4:case 6:case 9:case 11:e=30;break;case 2:e=28;if(i%4===0&&i%100!==0||i%400===0){e=29}break}o=1;while(o<=e){a='<option value="'+o+'">'+o+"</option>";t.append(a);o++}}};s={YearSelector:"#sel_year",MonthSelector:"#sel_month",DaySelector:"#sel_day",FirstText:"--",FirstValue:0};h=e.extend({},s,a);l=e(h.YearSelector);n=e(h.MonthSelector);t=e(h.DaySelector);c=h.FirstText;i=h.FirstValue;u='<option value="'+i+'">'+c+"</option>";l.html(u);n.html(u);t.html(u);v=(new Date).getFullYear();r=v;while(r>=1900){f='<option value="'+r+'">'+r+"</option>";l.append(f);r--}r=1;while(r<=12){p='<option value="'+r+'">'+r+"</option>";n.append(p);r++}n.change(function(){o()});l.change(function(){o()})}})})(jQuery);